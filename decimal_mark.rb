class DecimalMark

  def initialize(data)
    @array = data.split("")
  end

  def process
    i, div = @array.size, 3
    while i > 0
      if div == 0
        @array.insert(i, ',')
        div = 3
      end
      i, div = i-1, div-1
    end

    @array.join("")
  end

end


require 'minitest/autorun'

class TestDecimalMark < Minitest::Unit::TestCase

  def test_valid_input_1
    assert_equal "123,232", DecimalMark.new("123232").process
  end

  def test_valid_input_2
    assert_equal "1,024", DecimalMark.new("1024").process
  end

  def test_valid_input_3
    assert_equal "1,474,560,765", DecimalMark.new("1474560765").process
  end

  def test_valid_input_4
    assert_equal "107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824,107,374,182,410,737,418,241,073,741,824", DecimalMark.new("107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824107374182410737418241073741824").process
  end

  def test_invalid_input_5
    assert_equal "", DecimalMark.new("").process
  end

end

